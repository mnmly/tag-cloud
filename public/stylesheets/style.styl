@import 'nib'



body
  background-image: url(../images/bg.png)
  font-family Helvetica Neue, Helvetica, sans-serif
  height: 100%

input
  font-family Helvetica Neue, Helvetica, sans-serif

.icon-wrapper
  width 300px
  margin 0 auto
  text-align center
  margin-bottom: 30px

input-style()
  text-align: center
  color: hsl(0, 0%, 95%)
  font-family Helvetica Neue, Helvetica, sans-serif
  font-size: 16px
  font-size: 1.6rem
  font-weight: bold
  width 100%
  padding 5px 10px
  box-sizing border-box


// Container Height = 95px
.container
  position: relative
  top: 50%
  margin-top: -100px
  transition: .3s cubic-bezier(0.860, 0.000, 0.070, 1.000)
  -webkit-perspective: 800
  -webkit-transform-style: preserve-3d

  &.ready
    margin-top: -150px
    .button-wrapper
      transform rotate(0deg) scale(1)

  &.fetching
    #twitter-form
      .loader
        opacity: 1
        transform: scale(1)

      .field-wrapper
        transform: translateZ(500px)
        opacity: 0
      .button-wrapper
        transform: translateZ(500px)
        opacity: 0

  &.view
    margin-top: 0
    top: 0
    text-align: center
    form
      opacity: 0
      pointer-events: none
    
    
  .button-wrapper
    transform rotate(-540deg) scale(0.01)
    transition-property: opacity, transform
    transition-duration: .3s

#twitter-form
  position: relative
  width 300px
  margin 0 auto
  transition: .3s cubic-bezier(0.860, 0.000, 0.070, 1.000)

  .field-wrapper
    position relative
    transition: .3s cubic-bezier(0.860, 0.000, 0.070, 1.000)
    &.state-focus
      label
        opacity: .3
    
    &.state-valid
      label
        opacity: 0

    #screen-name
      input-style()
      outline: none
      border-radius 2px
      border: none
      background: hsla(0, 0%, 0%, .15)
      box-shadow 0 1px 2px hsla(0, 0%, 0%, .3) inset, 0 0px 3px hsla(0, 0%, 100%,1)
      text-shadow 0 1px 4px rgba(0, 0, 0, 0.4)
      border-bottom: 1px solid white

    label[for=screen-name]
      position absolute
      top 1px
      left 0
      input-style() 
      display: inline-block
      transition opacity .2s cubic-bezier(0.860, 0.000, 0.070, 1.000)
      background: hsla(0, 0%, 0%, 0)
      text-shadow 0 1px 4px rgba(0, 0, 0, 0.4)

  .loader
    position: absolute
    top: -10px
    left: 90px
    text-align center
    opacity: 0
    transform: scale(.01)
    transition: 1.5s .1s cubic-bezier(0.860, 0.000, 0.070, 1.000)
    pointer-events: none
    canvas
      display: inline-block
    p
      margin-top: 15px
      color: hsl(0, 0%, 38%)


  a[data-type="submit"]
    font-size: 20px
    font-size: 2.0rem
    font-weight: bold

  .button-wrapper
    position relative
    height: 50px
    width: 50px
    border-radius: 50%
    background-image linear-gradient(top, hsla(0, 0%, 95%, 1), hsla(0, 0%, 83%, 1) )
    margin: 30px auto
    margin-top: 50px
    box-sizing border-box
    box-shadow: 0 1px 1px hsla(0, 0%, 0%, .1), 0 0px 5px 1px hsla(0, 0%, 100%, .85) inset
    transition: .3s cubic-bezier(0.860, 0.000, 0.070, 1.000)

    &::before
      content: ''
      width: 70px
      height: 70px
      top: -11px
      left: -11px
      position: absolute
      border-radius: 50%
      background-image linear-gradient(top, hsla(0, 0%, 80%, .6), hsla(0, 0%, 90%, .6) )
      box-shadow: 0 -1px 0px hsla(0, 0%, 100%, .8), 0 1px 1px hsla(0, 0%, 0%, .1)
      z-index: -1

    .icon-wrapper
      margin-top: 0px
      svg
        position: absolute
        top: 0px
        left: 0px
        height: 30px
        width: 30px
        margin-left: 10px
        margin-top: 10px
        opacity: .8

    input
      top 0
      left 0
      position: absolute
      border: none
      background: none
      width: 100%
      height: 100%

screen-string()
  content: ''
  height: 10px
  width: 3px
  display: block
  position: absolute
  top: -10px
  z-index: -1
  background: grey
  
#screen-name-container
  text-align: center
  position: relative
  display: inline-block
  padding: 5px 11px 5px 10px
  background: hsla(0, 0%, 100%, 1)
  border-radius: 3px
  box-shadow: 0 6px 10px hsla(0, 0%, 0%, 0.1)
  &::before
    screen-string()
    left: 15px
  &::after
    screen-string()
    right: 15px

  #icon-twitter
    display: inline-block
    width: auto
    margin-right: 5px
    margin-bottom: 0
    
  span
    position: relative
    display: inline-block
    top: -3px
    font-weight: bold
    color: hsl(0, 0%, 38%)

#stage
  -webkit-transition: .3s .1s cubic-bezier(0.860, 0.000, 0.070, 1.000)
  -webkit-perspective: 800
  -webkit-transform-style: preserve-3d
  position: relative
  .tag
    font-size: 30px
    font-weight: bold
    position: absolute
    font-family: 'AXIS Std'
    font-weight: 900
    opacity: 1
    -webkit-transform-origin: 0 0
    -webkit-transition: .3s cubic-bezier(0.860, 0.000, 0.070, 1.000)
    -webkit-transition-property: opacity, -webkit-transform, top
    top: 0
    left: 0
    &.not-yet
      -webkit-transition: none
      opacity: 0
  .debug
    position: absolute
    outline: 1px solid red

    &::before
      position: absolute;
      content: attr(id);
      top: -10px;
      left: 0px;

  #hit-test
    opacity: 0

